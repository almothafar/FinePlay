@import models.components._
@import scala.collection.immutable._
@import scala.collection.immutable.Map
@import scala.collection.immutable.Seq
@import scala.collection.immutable.List
@import scala.collection.JavaConversions._
@import views.html._
@import views.html.components

@import common.system._

@()

@frame(){

	@head("lab"){

		@libraries.standard.head()
	}

	@body("lab","library"){

		@components.container(Map("id"->"", "fluid"->"true", "class"->"mt-3")){
			@breadcrumb(Map("id"->"", "name"->"Bootbox", "icon"->"fa fa-pencil", "selected"->"true"))
		}

		@components.container(Map("id"->"", "fluid"->"true")){
			<div class="row">
				<div class="col-md-3">

					@tasks(Map("id"->"", "task"->"bootbox"))
				</div>
				<div class="mt-3 d-md-none">
				</div>
				<div class="col-md-9">

					<div class="mb-3">

						@components.button(Map("id"->"alert", "type"->"primary", "outline"->"true", "text"->"Alert"))
						@components.button(Map("id"->"confirm", "type"->"primary", "outline"->"true", "text"->"Confirm"))
						@components.button(Map("id"->"prompt", "type"->"primary", "outline"->"true", "text"->"Prompt"))
						@components.button(Map("id"->"promptWithDefaultValue", "type"->"primary", "outline"->"true", "text"->"Prompt with default value"))
						@components.button(Map("id"->"customDialog", "type"->"primary", "outline"->"true", "text"->"Custom Dialog"))
					</div>
					<div class="mb-3">

						@components.button(Map("id"->"keyAlert", "type"->"primary", "outline"->"true", "icon"->"fa fa-keyboard-o", "text"->"Alert"))
						@components.button(Map("id"->"keyConfirm", "type"->"primary", "outline"->"true", "icon"->"fa fa-keyboard-o", "text"->"Confirm"))
						@components.button(Map("id"->"keyPrompt", "type"->"primary", "outline"->"true", "icon"->"fa fa-keyboard-o", "text"->"Prompt"))
					</div>
				</div>
			</div>
		}

		@libraries.standard.last()
		@libraries.bootbox.last()
		@script(){

			$('#alert').on('click', function(e){

				bootbox.alert("Hello world!", function() {
					notifyAlert('info', 'Closed.');
				});
			});

			$('#confirm').on('click', function(e){

				bootbox.confirm("Are you sure?", function(result) {
					notifyAlert('info', 'Closed. :'+result);
				});
			});

			$('#prompt').on('click', function(e){

				bootbox.prompt("What is your name?", function(result) {

					if (result === null) {
						notifyAlert('info', 'Canceled.');
					} else {
						notifyAlert('info', 'OK :'+result);
					}
				});
			});

			$('#promptWithDefaultValue').on('click', function(e){

				bootbox.prompt({

					title: "What is your real name?",
					value: "makeusabrew",
					callback: function(result) {

						if (result === null) {
							notifyAlert('info', 'Canceled.');
						} else {
							notifyAlert('info', 'OK :'+result);
						}
					}
				});
			});

			$('#customDialog').on('click', function(e){

				bootbox.dialog({

					message: "I am a custom dialog",
					title: "Custom title",
					buttons: {

						success: {

							label: "Success!",
							className: "btn-success",
							callback: function() {
								notifyAlert('info', 'Success');
							}
						},
						danger: {

							label: "Danger!",
							className: "btn-danger",
							callback: function() {
								notifyAlert('info', 'Danger');
							}
						},
						main: {

							label: "Click ME!",
							className: "btn-primary",
							callback: function() {
								notifyAlert('info', 'Click ME');
							}
						}
					}
				});
			});

			$('#keyAlert').on('click', function(e){

				bootbox.alert({

					message: "Hello world!",
					buttons: {

						ok: {

							className: "btn-primary default"
						}
					},
					callback: function() {

						notifyAlert('info', 'Closed.');
					}
				});
			});

			$('#keyConfirm').on('click', function(e){

				bootbox.confirm({

					message: "Are you sure?",
					buttons: {

						confirm: {

							className: "btn-primary default"
						}
					},
					callback: function(result) {

						notifyAlert('info', 'Closed. :'+result);
					}
				});
			});

			$('#keyPrompt').on('click', function(e){

				bootbox.prompt({

					title: "What is your real name?",
					buttons: {

						confirm: {

							className: "btn-primary default"
						}
					},
					callback: function(result) {

						if (result === null) {
							notifyAlert('info', 'Canceled.');
						} else {
							notifyAlert('info', 'OK :'+result);
						}
					}
				});
			});

			$(window).on('keydown', function(e){

				var keyCode = e.which ? e.which : e.keyCode;
				if (13 == keyCode) {

					if($(".bootbox-alert").is(".show")){

						$('.bootbox-alert .btn-primary.default').trigger("click");
					}else if($(".bootbox-confirm").is(".show")){

						$('.bootbox-confirm .btn-primary.default').trigger("click");
					}else if($(".bootbox-prompt").is(".show")){

						$('.bootbox-prompt .btn-primary.default').trigger("click");
					}

					e.preventDefault();
				}
			});
		}
	}
}
